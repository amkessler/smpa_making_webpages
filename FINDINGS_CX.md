# Code Review Findings

- **High – `ungroup()` is called on a plotly widget** (`02_plotly_charts.qmd:351-360`): The pipeline stores the `plot_ly()` result in `all_cities_plotlychart` and then immediately pipes into `ungroup()`. Once `plot_ly()` runs the object is no longer a `dplyr` data frame, so `ungroup()` raises `Error in UseMethod("ungroup")`. This stops the tutorial during rendering. Fix by calling `ungroup()` before `plot_ly()` (while the object is still a tibble) or by removing the grouping altogether before the plot is created.

- **High – Treating the plotly widget as if it were a tibble** (`02_plotly_charts.qmd:370-434`): Several subsequent chunks reuse `all_cities_plotlychart` with `group_by()`, `summarise()`, and `filter()`. Because `all_cities_plotlychart` is already a plotly object, each of these verbs will throw `no applicable method` errors. In the same section `summarized_data %>% add_lines()` tries to call a plotly method on a plain data frame, which also fails. Consider keeping the original `txhousing` tibble for data wrangling, building each layer with fresh calls to `plot_ly()`/`add_lines()`, or using `plotly_build()`/`plotly_data()` appropriately to extract data before piping into dplyr.
